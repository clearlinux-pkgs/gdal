#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : gdal
Version  : 3.0.0
Release  : 14
URL      : http://download.osgeo.org/gdal/3.0.0/gdal-3.0.0.tar.xz
Source0  : http://download.osgeo.org/gdal/3.0.0/gdal-3.0.0.tar.xz
Summary  : Geospatial Data Abstraction Library
Group    : Development/Tools
License  : Apache-2.0 BSD-3-Clause LGPL-2.0 Libpng MIT Public-Domain Qhull
Requires: gdal-bin = %{version}-%{release}
Requires: gdal-config = %{version}-%{release}
Requires: gdal-data = %{version}-%{release}
Requires: gdal-lib = %{version}-%{release}
Requires: gdal-license = %{version}-%{release}
BuildRequires : SFCGAL-dev
BuildRequires : buildreq-cpan
BuildRequires : buildreq-distutils3
BuildRequires : curl-dev
BuildRequires : expat-dev
BuildRequires : geos-dev
BuildRequires : hdf5-dev
BuildRequires : json-c-dev
BuildRequires : libgeotiff-dev
BuildRequires : libjpeg-turbo-dev
BuildRequires : libpng-dev
BuildRequires : libwebp-dev
BuildRequires : libxml2-dev
BuildRequires : ocl-icd-dev
BuildRequires : openssl-dev
BuildRequires : pcre-dev
BuildRequires : pkgconfig(bash-completion)
BuildRequires : pkgconfig(libpq)
BuildRequires : pkgconfig(poppler)
BuildRequires : pkgconfig(spatialite)
BuildRequires : pkgconfig(sqlite3)
BuildRequires : pkgconfig(zlib)
BuildRequires : proj
BuildRequires : proj-dev
BuildRequires : qhull-dev
BuildRequires : tiff-dev
BuildRequires : unixODBC-dev
BuildRequires : xerces-c-dev
BuildRequires : zlib-dev
BuildRequires : zstd-dev

%description
This directory contains sample scripts intended to give an idea how GDAL's
Python interface may be used in your applications.

%package bin
Summary: bin components for the gdal package.
Group: Binaries
Requires: gdal-data = %{version}-%{release}
Requires: gdal-config = %{version}-%{release}
Requires: gdal-license = %{version}-%{release}

%description bin
bin components for the gdal package.


%package config
Summary: config components for the gdal package.
Group: Default

%description config
config components for the gdal package.


%package data
Summary: data components for the gdal package.
Group: Data

%description data
data components for the gdal package.


%package dev
Summary: dev components for the gdal package.
Group: Development
Requires: gdal-lib = %{version}-%{release}
Requires: gdal-bin = %{version}-%{release}
Requires: gdal-data = %{version}-%{release}
Provides: gdal-devel = %{version}-%{release}
Requires: gdal = %{version}-%{release}

%description dev
dev components for the gdal package.


%package lib
Summary: lib components for the gdal package.
Group: Libraries
Requires: gdal-data = %{version}-%{release}
Requires: gdal-license = %{version}-%{release}

%description lib
lib components for the gdal package.


%package license
Summary: license components for the gdal package.
Group: Default

%description license
license components for the gdal package.


%prep
%setup -q -n gdal-3.0.0
pushd ..
cp -a gdal-3.0.0 buildavx2
popd

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C
export SOURCE_DATE_EPOCH=1562030176
export GCC_IGNORE_WERROR=1
export AR=gcc-ar
export RANLIB=gcc-ranlib
export NM=gcc-nm
export CFLAGS="$CFLAGS -O3 -falign-functions=32 -ffat-lto-objects -flto=4 -fno-math-errno -fno-semantic-interposition -fno-trapping-math "
export FCFLAGS="$CFLAGS -O3 -falign-functions=32 -ffat-lto-objects -flto=4 -fno-math-errno -fno-semantic-interposition -fno-trapping-math "
export FFLAGS="$CFLAGS -O3 -falign-functions=32 -ffat-lto-objects -flto=4 -fno-math-errno -fno-semantic-interposition -fno-trapping-math "
export CXXFLAGS="$CXXFLAGS -O3 -falign-functions=32 -ffat-lto-objects -flto=4 -fno-math-errno -fno-semantic-interposition -fno-trapping-math "
%configure --disable-static --datadir=/usr/share/gdal \
--datadir=/usr/share/gdal \
--with-libtiff=yes \
--with-png=yes \
--with-spatialite=yes \
--with-sqlite3=yes \
--with-poppler=yes \
--enable-lto
make  %{?_smp_mflags}

unset PKG_CONFIG_PATH
pushd ../buildavx2/
export CFLAGS="$CFLAGS -m64 -march=haswell"
export CXXFLAGS="$CXXFLAGS -m64 -march=haswell"
export LDFLAGS="$LDFLAGS -m64 -march=haswell"
%configure --disable-static --datadir=/usr/share/gdal \
--datadir=/usr/share/gdal \
--with-libtiff=yes \
--with-png=yes \
--with-spatialite=yes \
--with-sqlite3=yes \
--with-poppler=yes \
--enable-lto
make  %{?_smp_mflags}
popd
%install
export SOURCE_DATE_EPOCH=1562030176
rm -rf %{buildroot}
mkdir -p %{buildroot}/usr/share/package-licenses/gdal
cp LICENSE.TXT %{buildroot}/usr/share/package-licenses/gdal/LICENSE.TXT
cp alg/internal_libqhull/COPYING.txt %{buildroot}/usr/share/package-licenses/gdal/alg_internal_libqhull_COPYING.txt
cp frmts/gif/giflib/COPYING %{buildroot}/usr/share/package-licenses/gdal/frmts_gif_giflib_COPYING
cp frmts/mrf/libLERC/LICENSE.TXT %{buildroot}/usr/share/package-licenses/gdal/frmts_mrf_libLERC_LICENSE.TXT
cp frmts/pcraster/libcsf/COPYING %{buildroot}/usr/share/package-licenses/gdal/frmts_pcraster_libcsf_COPYING
cp frmts/png/libpng/LICENSE %{buildroot}/usr/share/package-licenses/gdal/frmts_png_libpng_LICENSE
cp ogr/ogrsf_frmts/geojson/libjson/COPYING %{buildroot}/usr/share/package-licenses/gdal/ogr_ogrsf_frmts_geojson_libjson_COPYING
cp ogr/ogrsf_frmts/shape/COPYING %{buildroot}/usr/share/package-licenses/gdal/ogr_ogrsf_frmts_shape_COPYING
cp port/LICENCE_minizip %{buildroot}/usr/share/package-licenses/gdal/port_LICENCE_minizip
cp third_party/LercLib/LICENSE %{buildroot}/usr/share/package-licenses/gdal/third_party_LercLib_LICENSE
pushd ../buildavx2/
%make_install_avx2
popd
%make_install
## install_append content
install -D %{buildroot}/usr/etc/bash_completion.d/gdal-bash-completion.sh %{buildroot}/usr/share/bash-completion/completions/gdal-bash-completion.sh
## install_append end

%files
%defattr(-,root,root,-)

%files bin
%defattr(-,root,root,-)
/usr/bin/gdal-config
/usr/bin/gdal_contour
/usr/bin/gdal_grid
/usr/bin/gdal_rasterize
/usr/bin/gdal_translate
/usr/bin/gdaladdo
/usr/bin/gdalbuildvrt
/usr/bin/gdaldem
/usr/bin/gdalenhance
/usr/bin/gdalinfo
/usr/bin/gdallocationinfo
/usr/bin/gdalmanage
/usr/bin/gdalserver
/usr/bin/gdalsrsinfo
/usr/bin/gdaltindex
/usr/bin/gdaltransform
/usr/bin/gdalwarp
/usr/bin/gnmanalyse
/usr/bin/gnmmanage
/usr/bin/haswell/gdal_contour
/usr/bin/haswell/gdal_grid
/usr/bin/haswell/gdal_rasterize
/usr/bin/haswell/gdal_translate
/usr/bin/haswell/gdaladdo
/usr/bin/haswell/gdalbuildvrt
/usr/bin/haswell/gdaldem
/usr/bin/haswell/gdalenhance
/usr/bin/haswell/gdalinfo
/usr/bin/haswell/gdallocationinfo
/usr/bin/haswell/gdalmanage
/usr/bin/haswell/gdalserver
/usr/bin/haswell/gdalsrsinfo
/usr/bin/haswell/gdaltindex
/usr/bin/haswell/gdaltransform
/usr/bin/haswell/gdalwarp
/usr/bin/haswell/gnmanalyse
/usr/bin/haswell/gnmmanage
/usr/bin/haswell/nearblack
/usr/bin/haswell/ogr2ogr
/usr/bin/haswell/ogrinfo
/usr/bin/haswell/ogrlineref
/usr/bin/haswell/ogrtindex
/usr/bin/haswell/testepsg
/usr/bin/nearblack
/usr/bin/ogr2ogr
/usr/bin/ogrinfo
/usr/bin/ogrlineref
/usr/bin/ogrtindex
/usr/bin/testepsg

%files config
%defattr(-,root,root,-)
%exclude /usr/etc/bash_completion.d/gdal-bash-completion.sh

%files data
%defattr(-,root,root,-)
/usr/share/bash-completion/completions/gdal-bash-completion.sh
/usr/share/gdal/GDALLogoBW.svg
/usr/share/gdal/GDALLogoColor.svg
/usr/share/gdal/GDALLogoGS.svg
/usr/share/gdal/LICENSE.TXT
/usr/share/gdal/bag_template.xml
/usr/share/gdal/cubewerx_extra.wkt
/usr/share/gdal/default.rsc
/usr/share/gdal/ecw_cs.wkt
/usr/share/gdal/eedaconf.json
/usr/share/gdal/epsg.wkt
/usr/share/gdal/esri_StatePlane_extra.wkt
/usr/share/gdal/gdalicon.png
/usr/share/gdal/gdalvrt.xsd
/usr/share/gdal/gml_registry.xml
/usr/share/gdal/gmlasconf.xml
/usr/share/gdal/gmlasconf.xsd
/usr/share/gdal/gt_datum.csv
/usr/share/gdal/gt_ellips.csv
/usr/share/gdal/header.dxf
/usr/share/gdal/inspire_cp_BasicPropertyUnit.gfs
/usr/share/gdal/inspire_cp_CadastralBoundary.gfs
/usr/share/gdal/inspire_cp_CadastralParcel.gfs
/usr/share/gdal/inspire_cp_CadastralZoning.gfs
/usr/share/gdal/jpfgdgml_AdmArea.gfs
/usr/share/gdal/jpfgdgml_AdmBdry.gfs
/usr/share/gdal/jpfgdgml_AdmPt.gfs
/usr/share/gdal/jpfgdgml_BldA.gfs
/usr/share/gdal/jpfgdgml_BldL.gfs
/usr/share/gdal/jpfgdgml_Cntr.gfs
/usr/share/gdal/jpfgdgml_CommBdry.gfs
/usr/share/gdal/jpfgdgml_CommPt.gfs
/usr/share/gdal/jpfgdgml_Cstline.gfs
/usr/share/gdal/jpfgdgml_ElevPt.gfs
/usr/share/gdal/jpfgdgml_GCP.gfs
/usr/share/gdal/jpfgdgml_LeveeEdge.gfs
/usr/share/gdal/jpfgdgml_RailCL.gfs
/usr/share/gdal/jpfgdgml_RdASL.gfs
/usr/share/gdal/jpfgdgml_RdArea.gfs
/usr/share/gdal/jpfgdgml_RdCompt.gfs
/usr/share/gdal/jpfgdgml_RdEdg.gfs
/usr/share/gdal/jpfgdgml_RdMgtBdry.gfs
/usr/share/gdal/jpfgdgml_RdSgmtA.gfs
/usr/share/gdal/jpfgdgml_RvrMgtBdry.gfs
/usr/share/gdal/jpfgdgml_SBAPt.gfs
/usr/share/gdal/jpfgdgml_SBArea.gfs
/usr/share/gdal/jpfgdgml_SBBdry.gfs
/usr/share/gdal/jpfgdgml_WA.gfs
/usr/share/gdal/jpfgdgml_WL.gfs
/usr/share/gdal/jpfgdgml_WStrA.gfs
/usr/share/gdal/jpfgdgml_WStrL.gfs
/usr/share/gdal/netcdf_config.xsd
/usr/share/gdal/nitf_spec.xml
/usr/share/gdal/nitf_spec.xsd
/usr/share/gdal/ogrvrt.xsd
/usr/share/gdal/osmconf.ini
/usr/share/gdal/ozi_datum.csv
/usr/share/gdal/ozi_ellips.csv
/usr/share/gdal/pci_datum.txt
/usr/share/gdal/pci_ellips.txt
/usr/share/gdal/pdfcomposition.xsd
/usr/share/gdal/pds4_template.xml
/usr/share/gdal/plscenesconf.json
/usr/share/gdal/ruian_vf_ob_v1.gfs
/usr/share/gdal/ruian_vf_st_uvoh_v1.gfs
/usr/share/gdal/ruian_vf_st_v1.gfs
/usr/share/gdal/ruian_vf_v1.gfs
/usr/share/gdal/s57agencies.csv
/usr/share/gdal/s57attributes.csv
/usr/share/gdal/s57expectedinput.csv
/usr/share/gdal/s57objectclasses.csv
/usr/share/gdal/seed_2d.dgn
/usr/share/gdal/seed_3d.dgn
/usr/share/gdal/stateplane.csv
/usr/share/gdal/trailer.dxf
/usr/share/gdal/vdv452.xml
/usr/share/gdal/vdv452.xsd

%files dev
%defattr(-,root,root,-)
/usr/include/*.h
/usr/lib64/haswell/libgdal.so
/usr/lib64/libgdal.so
/usr/lib64/pkgconfig/gdal.pc

%files lib
%defattr(-,root,root,-)
/usr/lib64/haswell/libgdal.so.26
/usr/lib64/haswell/libgdal.so.26.0.0
/usr/lib64/libgdal.so.26
/usr/lib64/libgdal.so.26.0.0

%files license
%defattr(0644,root,root,0755)
/usr/share/package-licenses/gdal/LICENSE.TXT
/usr/share/package-licenses/gdal/alg_internal_libqhull_COPYING.txt
/usr/share/package-licenses/gdal/frmts_gif_giflib_COPYING
/usr/share/package-licenses/gdal/frmts_mrf_libLERC_LICENSE.TXT
/usr/share/package-licenses/gdal/frmts_pcraster_libcsf_COPYING
/usr/share/package-licenses/gdal/frmts_png_libpng_LICENSE
/usr/share/package-licenses/gdal/ogr_ogrsf_frmts_geojson_libjson_COPYING
/usr/share/package-licenses/gdal/ogr_ogrsf_frmts_shape_COPYING
/usr/share/package-licenses/gdal/port_LICENCE_minizip
/usr/share/package-licenses/gdal/third_party_LercLib_LICENSE
